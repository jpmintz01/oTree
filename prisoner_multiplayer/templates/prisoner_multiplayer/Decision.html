{% extends "global/Page.html" %} {% load otree static %}


{% block title %}
Your Choices 
{% endblock %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="{% static 'global/matrix.css' %}" />

<style>
    .highlight-row-on-hover:hover td {
        background-color: #fcf8e3;
    }
    .invalid-blink {
        background-color: gray;
    }

    .highlight-selected {
        background-color: red;
    }
    .floatedTable {
        float:left;
    }
    .inlineTable {
        display: inline-block;
    }
    h4 {text-align:center;}
</style>

{% endblock %}

{% block scripts %}
<script>
    $(function() {
        var on = false;
        window.setInterval(function() {
            on = !on;
            if (on) {
                $('.invalid').addClass('invalid-blink')
            } else {
                $('.invalid-blink').removeClass('invalid-blink')
            }
        }, 200);
    });
</script>

{% endblock %}


{% block content %}
<section>
    <h3>Round: {{player.round_number}}</h3>
    {% next_button %}
</section>

<hr>
<h4> Competitor 1 ({{ player.adv_1_type }})</h4>
<!-- Table history of choices for player and adversary 1 -->
<table border=1  class="inlineTable table-bordered text-center" style="width: auto; margin: auto">
    <td><b>Round</b></td>
    {% for num in list_of_round_nums   %}
    <tr>
        <td>{{ num }}</td>
    </tr>
    {% endfor %}
</table>
<table border=1  class="inlineTable table-bordered text-center" style="width: auto; margin: auto">
    <td><b>You</b></td>
    {% for day in my_decision_adv_1_total   %}
    <tr>
        <td>{{ day }}</td>
    </tr>
    {% endfor %}
</table>
<table border=1  class="inlineTable table-bordered text-center" style="width: auto; margin: auto">
    <td><b>Competitor</b></td>
    {% for night in adv_1_decision_total   %}
    <tr>
        <td>{{ night }}</td>
    </tr>
    {% endfor %}
</table>
<br>
<!-- selection table with buttons for adversary 1-->
<div class="inlineTable form-group required">

    <div class="btn-group form-group required">
        <table class="table table-bordered text-center" style="width: auto; margin: auto">
            <tr>
                <th colspan="2" rowspan="2"></th>
                <th colspan="2">Competitor 1</th>
            </tr>
            <tr>
                <th>Cooperate</th>
                <th>Defect</th>
            </tr>
            <tr class="highlight-row-on-hover">
                <th rowspan="2"><span class="rotate90">You</span></th>
                <th>       
                    <label class="btn btn-secondary active">
                        <input type="radio" name="decision_vs_adv_1" id="decision_vs_adv_1" value="Cooperate" autocomplete="off"> Cooperate
                    </label>
                </th>
                <td>{{Constants.both_cooperate_payoff}}, {{Constants.both_cooperate_payoff}}</td>
                <td>{{ Constants.betrayed_payoff }}, {{Constants.betray_payoff}}</td>
            </tr>
            <tr class="highlight-row-on-hover">
                <th>
                    <label class="btn btn-secondary active">
                        <input type="radio" name="decision_vs_adv_1" id="decision_vs_adv_1" value="Defect" autocomplete="off"> Defect
                    </label>
                </th>
                <td>{{Constants.betray_payoff}}, {{ Constants.betrayed_payoff }}</td>
                <td>{{Constants.both_defect_payoff}}, {{Constants.both_defect_payoff}}</td>
            </tr>
        </table>
    </div>

</div>


<hr> <!-- begins section for adversary 2-->
<h4> Competitor 2 ({{ player.adv_2_type }})</h4>
<!-- Table history of choices for player and adversary 2 -->
<table border=1  class="inlineTable table-bordered text-center" style="width: auto; margin: auto">
    <td><b>Round</b></td>
    {% for num in list_of_round_nums   %}
    <tr>
        <td>{{ num }}</td>
    </tr>
    {% endfor %}
</table>
<table border=1  class="inlineTable table-bordered text-center" style="width: auto; margin: auto">
    <td><b>You</b></td>
    {% for day in my_decision_adv_2_total   %}
    <tr>
        <td>{{ day }}</td>
    </tr>
    {% endfor %}
</table>
<table border=1  class="inlineTable table-bordered text-center" style="width: auto; margin: auto">
    <td><b>Competitor</b></td>
    {% for night in adv_2_decision_total   %}
    <tr>
        <td>{{ night }}</td>
    </tr>
    {% endfor %}
</table>
<br>
<!-- selection table with buttons for adversary 1-->
<div class="inlineTable btn-group form-group required">
    <table class="table table-bordered text-center" style="width: auto; margin: auto">
        <tr>
            <th colspan="2" rowspan="2"></th>
            <th colspan="2">Competitor 2</th>
        </tr>
        <tr>
            <th>Cooperate</th>
            <th>Defect</th>
        </tr>
        <tr class="highlight-row-on-hover">
            <th rowspan="2"><span class="rotate90">You</span></th>
            <th>       
                <label class="btn btn-secondary active">
                    <input type="radio" name="decision_vs_adv_2" id="decision_vs_adv_2" value="Cooperate" autocomplete="off"> Cooperate
                </label>
            </th>
            <td>{{Constants.both_cooperate_payoff}}, {{Constants.both_cooperate_payoff}}</td>
            <td>{{ Constants.betrayed_payoff }}, {{Constants.betray_payoff}}</td>
        </tr>
        <tr class="highlight-row-on-hover">
            <th>
                <label class="btn btn-secondary active">
                    <input type="radio" name="decision_vs_adv_2" id="decision_vs_adv_2" value="Defect" autocomplete="off"> Defect
                </label>
            </th>
            <td>{{Constants.betray_payoff}}, {{ Constants.betrayed_payoff }}</td>
            <td>{{Constants.both_defect_payoff}}, {{Constants.both_defect_payoff}}</td>
        </tr>
    </table>
</div>
<hr>

<br>
{% next_button %}


{% include Constants.instructions_template %}





{% endblock %}
